---
import Layout from '@layouts/Layout.astro';
import data from '../../public/data/work.json';

// TODO interface
const work = ((data as unknown as any[]) ?? [])
---

<Layout title="My work - David (davru) Sanchez" description={'A quick overview of my past work, but ye... just the "finished" projects.'}>
  <main class="work">
	  <div class="work__slider">
   		<figure class="work__slider__image">
   			<a href={work[0].url}>
      		<img src={work[0].image} alt={`${work[0].name} - ${work[0].summary}`}>
				</a>
     	</figure>

      <hgroup class="work__slider__title">
      	<h3><a href={work[0].url}>{work[0].name}</a></h3>
       	<h4>{work[0].summary}</h4>
      </hgroup>

			<div class="work__slider__controls">
				<span class="work__slider__controls__item" cursor-pulse>
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h6m3 0h1.5m3 0h.5" /><path d="M5 12l6 6" /><path d="M5 12l6 -6" /></svg>
					<span>previous</span>
				</span>
				<span class="work__slider__controls__counter">1/{work.length}</span>
				<span class="work__slider__controls__item" cursor-pulse>
					<span>next project</span>
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h.5m3 0h1.5m3 0h6" /><path d="M13 18l6 -6" /><path d="M13 6l6 6" /></svg>
				</span>
			</div>
	 	</div>
  </main>

  <div></div>
</Layout>

<script is:inline type="module"></script>

<style>
	.work {
		--width: 900px;
		--image-height: 600px;

		width: 100%;
		margin: 0 auto;
		padding: 0 2.2rem;
		height: 100vh;
		height: 100dvh;
		display: flex;
    justify-content: center;
    align-items: center;
	}

	.work__slider {
		position: relative;
  	white-space: nowrap;
		display: flex;
		flex-direction: column;
		gap: 1rem;
		width: var(--width);
	}

	.work__slider__title {
		display: flex;
		flex-direction: column;
		gap: .25rem;
		color: var(--text-color);
	}

	.work__slider__title h3:hover {
		text-decoration: line-through;
	}

	.work__slider__title h4 {
		text-wrap: wrap;
		font-size: .75rem;
	}

	.work__slider__controls {
		color: var(--text-color);
		position: absolute;
		display: flex;
		justify-content: space-between;
		align-items: start;
		transform: rotate(90deg);
		transform-origin: 0 0;
		top: 0;
		left: calc(100% + 2rem);
		width: var(--image-height);
	}

	.work__slider__controls__counter {
		font-size: .8rem;
		align-self: flex-end;
	}

	.work__slider__controls__item {
		display: flex;
		align-items: center;
		gap: .5rem;
	}

	.work__slider__controls__item:hover span {
		text-decoration: line-through;
	}

	.work__slider__controls__item * {
		pointer-events: none;
	}

	.work__slider__controls__item svg {
		color: var(--color-text-main);
	}

	.work__slider__image {
		width: var(--width);
		height: var(--image-height);
		background: var(--bg-secondary-color);
	}

	.work__slider__image a {
		display: block;
		width: 100%;
		height: 100%;
	}

	.work__slider__image img {
		pointer-events: none;
		width: 100%;
		height: 100%;
		object-fit: cover;
	}
</style>
