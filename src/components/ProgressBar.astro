<div id="progress-bar"></div>

<script is:inline type="module">
	const getScrollPercent = () => {
    const docElem = document.documentElement;
    const docBody = document.body;
    const scrollTop = docElem['scrollTop'] || docBody['scrollTop'];
    const scrollBottom =
        (docElem['scrollHeight'] || docBody['scrollHeight']) -
        window.innerHeight;

    return ((scrollTop / scrollBottom) * 100) || 0;
  }

	const onScroll = () => {
    const scrollPercent = getScrollPercent();

    document
    	.getElementById('progress-bar')
      .style.setProperty('--scrollAmount', scrollPercent + '%');
  }

	document.removeEventListener('scroll', onScroll)
	document.addEventListener('scroll', onScroll)


</script>

<style>
	#progress-bar {
    --scrollAmount: 0%;

    background: var(--color-text-main);;
    width: var(--scrollAmount);
    height: 3px;
    position: fixed;
    top: 0;
    z-index: 9999;
  }
</style>
